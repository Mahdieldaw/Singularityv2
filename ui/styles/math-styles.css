/* 
 * Minimal KaTeX Styles
 * Only includes structural styles. Fonts are excluded to prevent bundling.
 * We use system fonts for performance and bundle size optimization.
 */

/* Import KaTeX structure (this path depends on how rehype-katex/katex are resolved, 
   but since we want to avoid bundling fonts, we'll define critical styles manually 
   or assume a very minimal set. 
   
   Actually, for strict isolation, we should NOT import the full katex.css 
   because it includes @font-face rules.
   
   Instead, we define the minimal necessary styles for layout.
*/

.katex {
    font-family: 'system-ui', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif !important;
    font-size: 1.1em;
    line-height: 1.2;
    text-rendering: optimizeLegibility;
}

.katex-display {
    display: block;
    margin: 1em 0;
    text-align: center;
    overflow-x: auto;
    overflow-y: hidden;
    padding: 0.5em 0;
}

.katex-html {
    display: inline-block;
}

/* Ensure fractions and other elements align correctly */
.katex .base {
    position: relative;
    white-space: nowrap;
    width: min-content;
}

.katex .strut {
    display: inline-block;
}

/* Dark mode adjustments if needed */
@media (prefers-color-scheme: dark) {
    .katex {
        color: inherit;
        /* Inherit text color from parent */
    }
}

/* Fix for some common KaTeX layout issues without fonts */
.katex .mord.mathnormal {
    font-style: italic;
}

.katex .msupsub {
    text-align: left;
}